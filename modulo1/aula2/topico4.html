<!DOCTYPE html>
<html lang="pt-br">
<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes" />
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="robots" content="noindex" />
		<meta name="author" content="Fiocruz, Campus Virtual" />
		<meta name="description" content="Curso Introdução à Análise de Dados para pesquisa no SUS" />
		<meta name="keywords" content="Fiocruz Curso Introdução à Análise de Dados para pesquisa no SUS" />

		<!-- Facebook Open Graph -->
		<meta property="og:url" content="https://mooc.campusvirtual.fiocruz.br/rea/introducao-analise-dados-sus" />
		<meta property="og:title" content="Campus Virtual Fiocruz | Curso Introdução à Análise de Dados para pesquisa no SUS" />
		<meta property="og:description" content="Curso Introdução à Análise de Dados para pesquisa no SUS" />
		<meta property="og:image" content="" />
		<meta property="og:image:width" content="1080" />
		<meta property="og:image:height" content="1080" />
		<meta property="og:type" content="website" />

		<!-- Twitter Cards -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="Campus Virtual Fiocruz | Curso Introdução à Análise de Dados para pesquisa no SUS" />
		<meta name="twitter:url" content="" />
		<meta name="twitter:description" content="" />
		<meta name="twitter:image:src" content="" />

		<!-- Favicons and Touch Icons -->
		<link rel="apple-touch-icon" sizes="57x57" href="../../media/icons/apple-icon-57x57.png" />
		<link rel="apple-touch-icon" sizes="60x60" href="../../media/icons/apple-icon-60x60.png" />
		<link rel="apple-touch-icon" sizes="72x72" href="../../media/icons/apple-icon-72x72.png" />
		<link rel="apple-touch-icon" sizes="76x76" href="../../media/icons/apple-icon-76x76.png" />
		<link rel="apple-touch-icon" sizes="114x114" href="../../media/icons/apple-icon-114x114.png" />
		<link rel="apple-touch-icon" sizes="120x120" href="../../media/icons/apple-icon-120x120.png" />
		<link rel="apple-touch-icon" sizes="144x144" href="../../media/icons/apple-icon-144x144.png" />
		<link rel="apple-touch-icon" sizes="152x152" href="../../media/icons/apple-icon-152x152.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="../../media/icons/apple-icon-180x180.png" />

		<link rel="icon" type="image/png" sizes="192x192" href="../../media/icons/android-icon-192x192.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="../../media/icons/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="96x96" href="../../media/icons/favicon-96x96.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="../../media/icons/favicon-16x16.png" />
		<link rel="manifest" href="../media/icons/manifest.json" />

		<meta name="msapplication-TileColor" content="#ffffff" />
		<meta name="msapplication-TileImage" content="../../media/icons/ms-icon-144x144.png" />
		<!-- <meta name="theme-color" content="#003066" /> -->
		<meta name="theme-color" content="#001833" />

		<title>Curso Introdução à Análise de Dados para pesquisa no SUS | Mod 1 | Aula 2</title>

		<!-- Bootstrap CSS 5.1.3 -->
		<link rel="stylesheet" href="../../source/bootstrap-5.1.3/css/bootstrap.min.css" />

		<!-- Project CSS -->
		<link rel="stylesheet" href="../../assets/css/style.css" />
	</head>

<body>
	<header class="header">
		<div class="mobile-toggle-open">
			<a class="mobile-toggle__button" tabindex="0" role="button">
				<span class="icon material-symbols-rounded">read_more</span>
			</a>
		</div>
		<div class="brand">
			<img class="img-fluid logo-black" src="../../media/logos/header-fiocruz-campus-virtual.png" alt="Campus Virtual Fiocruz" />
		</div>
		<div class="title">
			<h1>Introdução à Análise de Dados para pesquisa no SUS</h1>
		</div>
		<ul class="nav nav-pills">
			<li class="nav-item"><a href="../../index.html" class="nav-link">Início</a></li>
			<li class="nav-item"><a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#modal-creditos">Créditos</a></li>
		</ul>
	</header>
	<div class="main">
		<div class="sidebar" role="navigation">
			<div class="sidebar__inner">
				<div class="sidebar__group d-lg-none">
					<div class="sidebar__group-item">
						<div class="sidebar__header">
							<span>Curso</span>
							<a class="mobile-toggle-close" tabindex="0" role="button"><span class="icon material-symbols-rounded">read_more</span></a>
						</div>
					</div>
					<div class="sidebar__group-item">
						<div class="sidebar__title">
							<h1>Introdução à Análise de Dados para pesquisa no SUS</h1>
						</div>
					</div>
					<div class="sidebar__group-item">
						<ul class="nav">
							<li class="nav-item">
								<a href="../../index.html" class="nav-link" tabindex="0"><span class="icon material-symbols-rounded" aria-hidden="true">home</span>Início</a>
							</li>
							<li class="nav-item">
								<a href="#" class="nav-link" tabindex="0" data-bs-toggle="modal" data-bs-target="#modal-creditos"><span class="icon material-symbols-rounded" aria-hidden="true"> format_list_bulleted</span>Créditos</a>
							</li>
						</ul>
					</div>
				</div>

				<div class="sidebar__group">
					<div class="sidebar__group-item">
						<div class="dropend">
							<button id="dropdown-modulos" type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside" data-bs-offset="0,30">
								<span class="icon material-symbols-rounded" aria-hidden="true">grid_view</span>
								<span class="label">Módulos</span>
							</button>
							<ul class="dropdown-menu" aria-labelledby="dropdown-modulos">
								<li class="d-lg-none dropdown-menu__header">
									<a class="dropdown-menu__back-button" tabindex="0" role="button"><span
											class="icon material-symbols-rounded">chevron_left</span> Voltar</a>
									<a class="mobile-toggle-close" tabindex="0" role="button"><span
											class="icon material-symbols-rounded">read_more</span></a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link"
										href="../../modulo1/apresentacao.html"><strong>Módulo
											1</strong><br />Lógica e Linguagem de Programação</a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../../modulo2/apresentacao.html"><strong>Módulo 2</strong><br />Estatística Descritiva e Comunicação de Resultados</a>
								</li>
								<li class="dropdown-menu__item">
									<span class="dropdown-menu__item-link"><strong>Módulo 3</strong><br />Modelos estatísticos <strong class="em-breve">(em breve)</strong></span>
									<!-- <a class="dropdown-menu__item-link" tabindex="0" role="link" href="../../modulo3/apresentacao.html"><strong>Módulo 3</strong><br />Modelos estatísticos</a> -->
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="divider">
					<hr />
				</div>
				<div class="sidebar__group">
					<div class="sidebar__group-item">
						<span class="text module">Módulo <br class="d-none d-lg-block" /><span>1</span></span>
					</div>
					<div class="sidebar__group-item">
						<div class="dropend">
							<button type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside" data-bs-offset="0,30">
								<span class="icon material-symbols-rounded" aria-hidden="true">apps</span>
								<span class="label">Conteúdo</span>
							</button>
							<ul class="dropdown-menu">
								<li class="d-lg-none dropdown-menu__header">
									<a class="dropdown-menu__back-button" tabindex="0" role="button"><span class="icon material-symbols-rounded">chevron_left</span> Voltar</a>
									<a class="mobile-toggle-close" tabindex="0" role="button"><span class="icon material-symbols-rounded">read_more</span></a>
								</li>
								<li class="dropdown-menu__title">
									<span class="label">Módulo 1</span>
									<span class="title">Lógica e Linguagem de Programação</span>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../apresentacao.html"><strong>Apresentação do módulo</strong></a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../aula1/topico1.html"><strong>Aula 1: </strong>Introdução à Lógica de programação</a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../aula2/topico1.html"><strong>Aula 2: </strong>Introdução à Linguagem de Programação</a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../atividade.html"><strong>Atividade</strong></a>
								</li>
								<li class="dropdown-menu__item">
									<a class="dropdown-menu__item-link" tabindex="0" role="link" href="../encerramento.html"><strong>Resumo do módulo</strong></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="divider">
					<hr />
				</div>
				<div class="sidebar__group">
					<div class="sidebar__group-item">
						<span class="text class">Aula 2</span>
					</div>
					<div class="sidebar__group-item">
						<div class="dropend">
							<button type="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside" data-bs-offset="200,30">
								<span class="icon material-symbols-rounded" aria-hidden="true">
									format_list_bulleted</span>
								<span class="label">Tópicos</span>
							</button>
							<ul class="dropdown-menu">
								<li class="d-lg-none dropdown-menu__header">
									<a class="dropdown-menu__back-button" tabindex="0" role="button"><span class="icon material-symbols-rounded">chevron_left</span> Voltar</a>
									<a class="mobile-toggle-close" tabindex="0" role="button"><span class="icon material-symbols-rounded">read_more</span></a>
								</li>
								<li class="dropdown-menu__title">
									<span class="label">Aula 2</span>
									<span class="title">Introdução à Linguagem de Programação</span>
								</li>
								<li class="dropdown-menu__item">
									<nav class="topic-list">
										<a href="topico1.html" tabindex="0" role="link" class="topic-list__item" aria-label="Tópico concluído" status="visited"> <span class="material-symbols-rounded"></span>Introdução</a>

										<a href="topico2.html" tabindex="0" role="link" class="topic-list__item" aria-label="Tópico concluído" status="visited"> <span class="material-symbols-rounded"></span>Linguagem de programação R</a>

										<a href="topico3.html" tabindex="0" role="link" class="topic-list__item" aria-label="Tópico concluído" status="visited"><span class="material-symbols-rounded"></span>Funções no R</a>

										<a href="topico4.html" tabindex="0" role="link" class="topic-list__item" aria-label="Tópico concluído" status="visited"><span class="material-symbols-rounded"></span>Criando uma nova variável utilizando operações lógicas</a>

										<a href="topico5.html" tabindex="0" role="link" class="topic-list__item" aria-label="Tópico não concluído"><span class="material-symbols-rounded"></span>Agrupamento de Dados</a>
									</nav>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="divider">
					<hr />
				</div>
				<div class="sidebar__group extra">
					<div class="sidebar__group-item">
						<button type="button" class="" data-bs-toggle="modal" data-bs-target="#modal-bibliografiaMod1">
							<span class="icon material-symbols-rounded" aria-hidden="true"> menu_book</span>
							<span class="label">Bibliografia</span>
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="content">
			<div id="page-title">
				<div class="container">
					<div class="row align-items-center hstify-content-center justify-content-xxl-start ms-lg-5">
						<div class="col-12 col-md-10 col-lg-11">
							<h2 class="title">
								<span class="label">Módulo 1 | Aula 2</span>
								<br />
								Introdução à Linguagem de Programação
							</h2>
						</div>
					</div>
				</div>
			</div>

			<div id="page-content" class="">
				<!-- Inserir o conteúdo aqui -->
				<section>
					<div class="container">
						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<div class="heading__block">
									<span class="small">Tópico 4</span>
									<h3 class="heading__title">Criando uma variável utilizando operações lógicas</h3>
								</div>

								<p>No <strong>dplyr</strong> temos a função chamada <span class="color-tertiary-dark"><strong>if_else</strong></span>, que é o mesmo que o se/se não, da aula de lógica de programação. Então, vamos usá-lo. Para usar o <span class="color-tertiary-dark"><strong>if_else</strong></span>, primeiro mostrei a sintaxe de um caso simples, depois a aplicaremos na variável SEXO.</p>
								<p>A sintaxe do <span class="color-tertiary-dark"><strong>mutate</strong></span> em conjunto com o <span class="color-tertiary-dark"><strong>if_else</strong></span> é: primeiro, definimos a variável que receberá o resultado (no exemplo a seguir chamamos de <span class="color-tertiary-dark"><strong>variavel</strong></span>), seguida pelo operador de atribuição =. Em seguida, utilizamos o <span class="color-tertiary-dark"><strong>if_else</strong></span>, que recebe três parâmetros: o primeiro é a condição a ser avaliada; o segundo, o valor retornado se a condição for verdadeira; e o terceiro, o valor retornado se a condição for falsa. Vale a pena explorar a documentação do <span class="color-tertiary-dark"><strong>if_else</strong></span> no R para entender melhor e verificar outros parâmetros disponíveis para essa função.</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- SINTAXE -->
									<div class="code-container aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
										<div class="heading__block">
											<h5 class="heading__title">Sintaxe</h5>
										</div>
										<pre aria-label="Exemplo de código">
											<code>
												<span class="comment"># Criando variáveis condicionais com if_else</span>

												<span class="variable">data_frame</span> <span class="operator">&lt;-</span> <span class="variable">data_frame</span> <span class="operator">%&gt;%</span>
												   <span class="function">mutate</span>(<span class="variable">variável</span> <span class="operator">=</span> <span class="function">if_else</span>(<span class="variable">condição</span>, <span class="variable">verdadeiro</span>, <span class="variable">falso</span>))
											</code>
										</pre>

										<!-- <button class="copy-btn" aria-label="Copiar código para a área de transferência">Copiar</button> -->
									</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Agora, você pode aplicar no RStudio a condicional com <span class="color-tertiary-dark"><strong>mutate</strong></span> para criar uma variável em nossos dados.</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img22a.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>

											<div class="mb-5">
												<p class="mb-1"><strong>Saída:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img22b.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>No <strong>dplyr</strong> temos a função chamada de <span class="color-tertiary-dark"><strong>case_when</strong></span>, que tem a mesma funcionalidade do <span class="color-tertiary-dark"><strong>if_else</strong></span>; entretanto, principalmente quando temos mais de duas condições a ser verificada, a sintaxe adequada é a seguinte:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- SINTAXE -->
									<div class="code-container aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
										<div class="heading__block">
											<h5 class="heading__title">Sintaxe</h5>
										</div>
										<pre aria-label="Exemplo de código">
											<code>
												<span class="comment"># case_when para múltiplas condições</span>

												<span class="function">case_when</span>(
												   <span class="variable">condição_1</span> <span class="operator">˜</span> <span class="variable">resultado_1</span>,
												   <span class="variable">condição_2</span> <span class="operator">˜</span> <span class="variable">resultado_2</span>,
												   <span class="variable">condição_3</span> <span class="operator">˜</span> <span class="variable">resultado_3</span>,
												   <span class="boolean">TRUE</span> <span class="operator">˜</span> <span class="variable">resultado_padrão</span>
												)
											</code>
										</pre>

										<!-- <button class="copy-btn" aria-label="Copiar código para a área de transferência">Copiar</button> -->
									</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Agora vamos aplicar aos nossos dados o <span class="color-tertiary-dark"><strong>case_when</strong></span>, no repositório.</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img23a.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>

											<div class="mb-5">
												<p class="mb-1"><strong>Saída:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img23b.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5 pb-5">
								<p>O uso do <span class="color-tertiary-dark"><strong>case_when</strong></span>, nesse caso, torna o código mais organizado e legível. Dentro do <span class="color-tertiary-dark"><strong>mutate</strong></span>, começamos definindo o nome da variável, seguido pelo operador de atribuição (=). Após o <span class="color-tertiary-dark"><strong>case_when</strong></span>, podemos adicionar quantas condições forem necessárias para resolver o problema, separando cada uma por vírgulas. Por exemplo, a primeira condição é <span class="color-tertiary-dark"><strong>SEXO == 1 ~ "Masculino"</strong></span>, ou seja, se o valor de SEXO for igual a 1, o resultado será "Masculino", e assim por diante.</p>

								<p>É importante destacar que, quando uma condição é verdadeira, o <span class="color-tertiary-dark"><strong>case_when</strong></span> não verifica as demais. Ao aplicar o <span class="color-tertiary-dark"><strong>case_when</strong></span> dessa forma, todas as linhas do <span class="color-tertiary-dark"><strong>dataframe</strong></span> são verificadas e uma nova coluna é criada, que chamamos de sexo_p (com "p" de padronizado). Agora, vamos verificar a frequência dessa (nova) variável.</p>

								<p>Ao rodar esses comandos, você vai notar que o seu <span class="color-tertiary-dark"><strong>Dataframe</strong></span> passará a ter mais duas colunas, totalizando 8 variáveis. No primeiro comando, criamos a variável <span class="color-tertiary-dark"><strong>sexo_p</strong></span> e, no segundo, criamos a variável <span class="color-tertiary-dark"><strong>sexo_2</strong></span>. Se quiser conferir por conta própria você pode testar usar a função <span class="color-tertiary-dark"><strong>glimpse</strong></span> novamente.</p>
							</div>
						</div>


						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<div class="heading__block">
									<h4 class="heading__title">Alterando a Variável de Data</h4>
								</div>

								<p>Outra variável que vamos alterar é a <span class="color-tertiary-dark"><strong>DTOBITO</strong></span>, que representa a <strong>data do óbito</strong>. Ao executar o comando <span class="color-tertiary-dark"><strong>glimpse</strong></span>, percebemos que a variável <span class="color-tertiary-dark"><strong>DTOBITO</strong></span> está no tipo <span class="color-tertiary-dark"><strong>"caracter"</strong></span>, mas sabemos que se trata de uma data.</p>
								<p>Para realizar operações com datas, como:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- Lista Ordenada -->
								<div class="list">
									<ul class="list-group">
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Subtrair dias de uma data,</strong></li>
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Adicionar dias,</strong></li>
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Calcular a diferença entre duas datas,</strong></li>
									</ul>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Precisamos que a variável esteja no tipo <span class="color-tertiary-dark"><strong>Date</strong></span>, que é o tipo apropriado para lidar com datas no R.</p>

								<p>Para facilitar o trabalho com datas no R, utilizaremos o pacote <span class="color-tertiary-dark"><strong>lubridate</strong></span>, que está incluído no <span class="color-tertiary-dark"><strong>Tidyverse</strong></span>. Ele fornece funções simples e intuitivas para manipulação de datas. Você já deve ter instalado e carregado este pacote junto com os outros no <strong><a href='topico3.html#pacotes' target='_blank'>subtópico Pacotes</a></strong>, em caso de dúvidas, revise esse conteúdo. </p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p class="mb-0">Depois, crie uma variável do tipo date chamada de <span class="color-tertiary-dark"><strong>dt_DTOBITO</strong></span>, usando o <span class="color-tertiary-dark"><strong>mutate</strong></span> novamente. As datas nos bancos de dados podem aparecer em vários formatos, mas os dois mais comuns são:</p>

							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- Lista Não Ordenada -->
								<div class="list">
									<ul class="list-group">
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Formato brasileiro:</strong> dia/mês/ano (dd/mm/yyyy)</li>
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Formato americano:</strong> ano/mês/dia (yyyy/mm/dd)</li>
									</ul>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5 pb-5">
								<p>No nosso caso, ao observar a variável <span class="color-tertiary-dark"><strong>DTOBITO</strong></span> usando <span class="color-tertiary-dark"><strong>glimpse</strong></span>, notamos que as datas estão no formato "<span class="color-tertiary-dark"><strong>ddmmyyyy</strong></span>" (por exemplo, 24072023 para o dia 24 de julho de 2023).</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<div class="heading__block">
									<h4 class="heading__title">Funções do lubridate para Manipulação de Datas</h4>
								</div>

								<p>O pacote <span class="color-tertiary-dark"><strong>lubridate</strong></span> oferece muitas funções para trabalhar com diferentes formatos de datas. A função <span class="color-tertiary-dark"><strong>ymd()</strong></span> é especialmente útil quando você precisa converter uma data no formato <strong>ano/mês/dia</strong> (mesmo que os valores estejam juntos, como no nosso caso).</p>

								<p>Vamos utilizar <span class="color-tertiary-dark"><strong>ymd()</strong></span> para transformar a variável <span class="color-tertiary-dark"><strong>DTOBITO</strong></span>, que atualmente está no formato de texto, em uma data do tipo <span class="color-tertiary-dark"><strong>Date</strong></span>.</p>

								<p><strong>Alterando e Criando Variáveis no Mutate</strong></p>

								<p>O <span class="color-tertiary-dark"><strong>mutate</strong></span> pode ser usado para criar ou alterar múltiplas variáveis de uma só vez, separando cada nova operação por vírgula. Aqui, vamos:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- Lista Ordenada -->
								<div class="list">
									<ol class="list-group list-group-numbered">
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Converter a variável</strong> <span class="color-tertiary-dark"><strong>DTOBITO</strong></span> para o formato de data usando <span class="color-tertiary-dark"><strong>ymd()</strong></span>.</li>

										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><strong>Criar uma variável</strong> <span class="color-tertiary-dark"><strong>ano_obito</strong></span> que extrai o ano a partir da data de óbito, utilizando a função <span class="color-tertiary-dark"><strong>year()</strong></span> do <span class="color-tertiary-dark"><strong>lubridate</strong></span>.</li>
									</ol>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img24.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Agora, temos:</p>

								<!-- Lisa Ordenada -->
								<div class="list">
									<ul class="list-group">
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><span class="color-tertiary-dark"><strong>DTOBITO_dt</strong></span> no formato correto de data, pronto para operações com datas.</li>
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300"><span class="color-tertiary-dark"><strong>ano_obito</strong></span>, uma nova variável, que contém apenas o ano extraído da data.</li>
									</ul>
								</div>
							</div>
						</div>
					</div>

					<div class="container-fluid px-0 mb-5">
						<div class="destaque-parallax my-0">
							<div class="custom-shape-divider-top-1720289331">
								<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
									<path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
								</svg>
							</div>

							<div class="container">
								<div class="row justify-content-center">
									<div class="col-12 col-md-10 col-lg-8">
										<p>No R, a ordem das operações importa! Nesse caso, para garantir que tudo funcione corretamente, você precisa primeiro converter a variável <span class="color-secondary-medium d-inline"><strong>DTOBITO</strong></span> em uma data, e só depois extrair o ano. Isso acontece porque a função que extrai o ano (no caso, year()) só funciona corretamente com variáveis do tipo Date. Se você tentar fazer na ordem errada, o resultado não será o esperado.</p>
									</div>
								</div>
							</div>

							<div class="custom-shape-divider-bottom-1720289984">
								<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
									<path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
								</svg>
							</div>
						</div>
					</div>

					<div class="container">
						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- Saiba Mais -->
								<div class="saiba-mais pb-5">
									<div class="row aos-init aos-animate" data-aos="fade-left" data-aos-easing="ease-out" data-aos-duration="600">
										<div class="col-12 d-flex justify-content-center">
											<button class="saiba-mais fio-button button-md fio-button-secondary collapsed" type="collapsed" data-bs-toggle="collapse" data-bs-target="#saiba-mais1" aria-expanded="false" aria-controls="saiba-mais1"><span class="icone material-symbols-rounded" aria-hidden="true"></span> Você sabia?</button>
										</div>
										<div class="col-12">
											<div class="mt-3 collapse" id="saiba-mais1">
												<p>Acesse o <a href='https://lubridate.tidyverse.org/' target='_blank' rel='noopener noreferrer'>site oficial do lubridate</a></p>
												<p class="mb-0">Para saber mais, confira um resumo com dicas de uso no link: </p>

												<div class="list">
													<ul class="list-group">
														<li class="list-group-item aos-init aos-animate" list-style="page" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="300">
															<a href="https://rstudio.github.io/cheatsheets/html/lubridate.html" target="_blank">https://rstudio.github.io/cheatsheets/html/lubridate.html</a>
														</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Agora, utilize de novo a função <span class="color-tertiary-dark"><strong>glimpse()</strong></span>. Você verá as alterações realizadas no seu <span class="color-tertiary-dark"><strong>Dataframe</strong></span> (destacado no retângulo vermelho).</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img25.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Agora vamos rever a função de contagem. Use a função <span class="color-tertiary-dark"><strong>count()</strong></span> do <span class="color-tertiary-dark"><strong>Tidyverse</strong></span> para contar a frequência de óbitos por ano e por sexo:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img26a.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>

											<div>
												<p class="mb-1"><strong>Saída:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img26b.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Observe que todos os óbitos são do ano de 2023. Agora, vamos alterar a variável IDADE. Confira no dicionário de dados como funciona essa variável. Iremos alterar todas as observações para anos. Usaremos agora outro pacote para manipular o tipo de dado character (também chamado de <strong>string</strong>), carregue o pacote <a class="" tabindex="0" role="button" data-bs-toggle="popover" data-bs-trigger="focus" title="" data-bs-html="true" data-bs-content="<p>O pacote stringr é utilizado no R para manipulação de strings (textos) de maneira simples e consistente. Ele facilita tarefas como busca, substituição, extração e modificação de textos, permitindo realizar operações comuns de forma eficiente, como encontrar padrões, contar caracteres e ajustar formatações. É ideal para o processamento e limpeza de dados textuais.</p> <p>A folha de resumo de utilização do pacote stringr pode ser encontrada <a href='https://rstudio.github.io/cheatsheets/translations/portuguese/strings_pt_br.pdf' target='_blank' rel='noopener noreferrer'>neste link</a>.</p> " data-bs-original-title="Stringr">stringr</a> do <span class="color-tertiary-dark"><strong>Tidyverse</strong></span>.</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Você já deve ter instalado e ativado o pacote stringr do Tidyverse no <a href='topico3.html#pacotes' target='_blank'>subtópico Pacotes</a>, em caso de dúvidas, revise esse conteúdo. </p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>A variável <strong>IDADE</strong> tem uma codificação conforme dicionário de dados. O primeiro elemento da <em>string</em> varia de 0 a 5 , indica a unidade da idade, em horas, dias meses etc., enquanto os dígitos seguintes indicam a quantidade de unidades. Por exemplo, 204 significa que a idade está em dias e o indivíduo tinha 4 dias; 305 seria 5 meses, e assim por diante. Vamos alterar para anos.</p>

								<p>Nosso primeiro passo vai ser dividir a <em>string</em> idade em duas, para simplificar. Usaremos a função do pacote stringr chamada <span class="color-tertiary-dark"><strong>str_sub()</strong></span>, que extrai uma parte da <em>string</em>, usando parâmetros como a <em>string</em> a ser extraída, o início e o final da nossa extração. Assim, conseguimos separar apenas os caracteres que precisamos. Qualquer dúvida, use o comando <span class="color-tertiary-dark"><strong>?str_sub</strong></span> no seu <span class="color-tertiary-dark"><strong>console</strong></span> para abrir a documentação. </p>

								<p>Essa função recebe como parâmetro uma <span class="color-tertiary-dark"><strong>string</strong></span>, depois dois valores representando o começo e o final que queremos extrair dela. Criaremos duas variáveis, uma que chamaremos de <span class="color-tertiary-dark"><strong>tipo_idade</strong></span> referente ao primeiro elemento da <span class="color-tertiary-dark"><strong>string</strong></span>, e a segunda em relação ao restante da <span class="color-tertiary-dark"><strong>string</strong></span>, chamada idade. Confira o código a seguir que adicionaremos ao nosso <span class="color-tertiary-dark"><strong>mutate</strong></span>.</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img27a.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>

											<div>
												<p class="mb-1"><strong>Saída:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img27b.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>Dentro do <span class="color-tertiary-dark"><strong>mutate()</strong></span> estamos criando várias variáveis de uma só vez. Primeiro, extraímos partes específicas da <em>string</em> <strong>IDADE</strong>: <strong>tipo_idade</strong> recebe apenas o primeiro dígito, e idade recebe os demais. Em seguida, usamos <span class="color-tertiary-dark"><strong>case_when()</strong></span> para transformar essa codificação em idade em anos.</p>

								<p>No <span class="color-tertiary-dark"><strong>case_when()</strong></span>, cada linha segue a sintaxe abaixo:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- SINTAXE -->
								<div class="code-container aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="heading__block">
										<h5 class="heading__title">Sintaxe</h5>
									</div>
									<pre aria-label="Exemplo de código">
										<code>
											<span class="comment"># Estrutura de cada linha do case_when</span>

											<span class="variable">condição</span> <span class="operator">˜</span> <span class="variable">resultado</span>
										</code>
									</pre>

									<!-- <button class="copy-btn" aria-label="Copiar código para a área de transferência">Copiar</button> -->
								</div>
							</div>
						</div>
					
						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<p>O símbolo <span class="color-tertiary-dark"><strong>~</strong></span> separa a condição (à esquerda) do valor que será atribuído quando ela for verdadeira (à direita). Assim:</p>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- Lisa Não Ordenada -->
								<div class="list">
									<ul class="list-group">
										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200"><strong>Se tipo_idade</strong> &lt= 3, a idade representa horas, dias ou meses — por isso atribuimos 0 anos</li>

										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="100"><strong>Se tipo_idade</strong> == 4, a idade já está em anos, e apenas convertemos para número.</li>

										<li class="list-group-item aos-init aos-animate" list-style="default" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="1200" data-aos-delay="200"><strong>Se tipo_idade</strong> == 5, a idade representa pessoas com 100 anos ou mais — somamos 100 + idade.</li>
									</ul>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8 mb-5">
								<!-- NA PRÁTICA -->
								<div class="box-cor aos-init aos-animate" data-aos="fade-right" data-aos-easing="ease-out" data-aos-duration="600">
									<div class="box-cor__base">
										<div class="base-header">
											<h4>Na Prática!</h4>
										</div>
										<div class="base-body">
											<div class="mb-5">
												<p class="mb-1"><strong>Comando:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img28a.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>

											<div>
												<p class="mb-1"><strong>Saída:</strong></p>
												<figure class="lightbox">
													<img class="img-fluid rounded mx-auto d-block mb-3" src="../../media/modulo1/aula2-img28b.png" alt="" title="Fonte: Elaborada pelo autor (2025)." />
													<figcaption class="figure-caption">Fonte: Elaborada pelo autor (2025).</figcaption>
												</figure>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row justify-content-center">
							<div class="col-12 col-md-10 col-lg-8">
								<!-- Box de Dica -->
								<div class="box" data-box="Dica">
									<div class="card card--out">
										<div class="card-header">
											<span class="icone material-symbols-rounded" aria-hidden="true"></span>
											<span class="label">Dica</span>
										</div>
										<div class="card-body">
											<p>Use o comando <span class="color-tertiary-dark"><strong>View(df_csv)</strong></span> para visualizar a tabela completa em outra aba</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					
					</div>
				</section>
			</div>

			<!-- Navegação da aula -->
			<section>
				<div class="container">
					<div class="row justify-content-center">
						<div class="col-12 col-md-10 col-lg-8">
							<div class="page-nav d-flex justify-content-evenly">
								<a class="fio-button fio-button-primary" href="topico3.html" rel="prev"><span class="material-symbols-rounded">west</span> Tópico anterior</a>
								<a class="fio-button fio-button-primary" href="topico5.html" rel="next">Próximo tópico
									<span class="material-symbols-rounded" aria-hidden="true">east</span></a>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>

		<footer>
			<div class="container-fluid">
				<div class="row justify-content-center align-items-center linha-de-marcas">
					<div class="col-12 col-md-auto">
						<ul class="logos">
							<!-- <li class="realizacao"> -->
							<li>
								<img class="img-fluid logo1" src="../../media/logos/logo-cidacs.svg" alt="Logo do Centro de Integração de Dados e Conhecimentos para Saúde" height="" />
							</li>

							<li>
								<img class="img-fluid logo2" src="../../media/logos/logo-cvf.svg" alt="Logo do Campus Virtual Fiocruz" height="" />
							</li>

							<li>
								<img class="img-fluid logo3" src="../../media/logos/logo-fiocruz.svg" alt="Logo da Fiocruz" height="" />
							</li>
						</ul>
					</div>

					<div class="col-12 col-md-auto">
						<ul class="logos principais align-self-end">
							<li>
								<img class="img-fluid logo4" src="../../media/logos/logo-sus-digital-cor.svg" alt="Logo do SUS Digital" height="" />
							</li>

							<li>
								<img class="img-fluid logo5 d-none d-md-block" src="../../media/logos/logo-ms-gov-federal.svg" alt="Logos SUS 35 anos, Ministério da Saúde e Governo Federal" height="" />
							</li>

							<li>
								<img class="img-fluid logo6 d-block d-md-none" src="../../media/logos/logo-ms-gov-federal-mobile.svg" alt="Logos SUS 35 anos, Ministério da Saúde e Governo Federal" height="" />
							</li>
						</ul>
					</div>
				</div>
			</div>
		</footer>
	</div>

	<!--  Bootstrap JS and Popper -->
	<script src="../../source/bootstrap-5.1.3/js/bootstrap.bundle.min.js"></script>

	<!-- Sticky Sidebar -->
	<script type="text/javascript" src="../../assets/js/ResizeSensor.js"></script>
	<script type="text/javascript" src="../../assets/js/sticky-sidebar.js"></script>
	<script type="text/javascript" src="../../assets/js/sidebar.js"></script>

	<script type="text/javascript">
		var sidebar = new StickySidebar('.sidebar', {
			topSpacing: 0,
			bottomSpacing: 0,
			containerSelector: '.main',
			innerWrapperSelector: '.sidebar__inner',
			minWidth: 991,
		});
	</script>

	<!-- Code -->
	<script src="../../assets/js/code.js"></script>

	<!-- Swiper -->
	<script src="../../assets/js/swiper-bundle.min.js"></script>
	<script src="../../assets/js/swiper-init.js"></script>

	<script type="text/javascript" src="../../assets/js/scripts.js"></script>
	<script type="text/javascript" src="../../assets/js/custom-anime.js"></script>
	<script type="text/javascript" src="../../source/animate/aos/dist/aos.js"></script>

	<!-- Timeline horizontal -->
	<script src="../../assets/js/timeline-horizontal/util.js"></script>
	<!-- util functions included in the CodyHouse framework -->
	<script src="../../assets/js/timeline-horizontal/swipe-content.js"></script>
	<!-- A Vanilla JavaScript plugin to detect touch interactions -->
	<script src="../../assets/js/timeline-horizontal/main.js"></script>
	<!-- Start the Timeline -->
	<script>
		document.getElementsByTagName('html')[0].className += ' js';
	</script>

	<script>
		AOS.init();
	</script>
</body>

</html>